(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{155:function(e,t,a){e.exports=a(336)},160:function(e,t,a){},162:function(e,t,a){},336:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),c=a.n(i),l=(a(160),a(28)),o=a(29),u=a(31),s=a(30),m=a(32),d=(a(162),a(18)),g=a(71),E=a.n(g),f=Object(d.withStyles)(function(e){return{root:{flexGrow:1}}})(function(e){var t=e.classes,a=e.children;return r.a.createElement("div",{className:t.root},r.a.createElement(E.a,{container:!0,spacing:24},r.a.createElement(E.a,{item:!0,xs:12,sm:1,md:2}),r.a.createElement(E.a,{item:!0,xs:12,sm:10,md:8},a),r.a.createElement(E.a,{item:!0,xs:12,sm:1,md:2})))}),h=a(141),p=a.n(h),v=a(142),b=a.n(v),y=a(9),O=a.n(y),_=a(143),j=a.n(_),w=a(144),S=a.n(w),C=a(145),x=a.n(C),N=a(42),B=a.n(N),k=a(43),$=a.n(k),M=a(33),A=a.n(M),D=a(146),q=a.n(D),V=a(147),Q=a.n(V),z=a(148),F=a.n(z),L=a(149),T=a.n(L),I=a(150),P=a.n(I),G=a(131),H=a(40),J=a.n(H),R=Object(d.withStyles)(function(e){return{root:Object(G.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit})}})(function(e){var t=e.children,a=e.classes;return r.a.createElement(J.a,{className:a.root,elevation:1},t)}),W=Object(d.withStyles)(function(e){return{root:{textAlign:"center",paddingTop:20*e.spacing.unit,paddingBottom:20*e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(O.a,{variant:"h3",gutterBottom:!0},"About"),r.a.createElement(O.a,{variant:"subtitle1",gutterBottom:!0},"Give a short explanation about this application."))}),K=a(342),U=a(340),X=a(341),Y=a(16),Z=function(){return r.a.createElement(O.a,{variant:"body1"},"Error :(")},ee=function(){return r.a.createElement(O.a,{variant:"body1"},"Loading...")},te=a(67),ae=a.n(te),ne=a(68),re=a.n(ne),ie=a(27),ce=a(26),le=a.n(ce);function oe(){var e=Object(ie.a)(["\n{\n    notification @client\n    notification_id @client\n}\n"]);return oe=function(){return e},e}function ue(){var e=Object(ie.a)(["\n{\n    allVisitors{\n        _id\n        value\n        created\n        sauna {\n            name\n        }\n    }\n}\n"]);return ue=function(){return e},e}function se(){var e=Object(ie.a)(["\n{\n    allSaunas {\n        name\n        max_seats\n        current_seats\n        _id\n        capacity_message\n    }\n}\n"]);return se=function(){return e},e}function me(){var e=Object(ie.a)(["\nquery sauna($id: String) {\n    sauna(id: $id) {\n        _id\n        name\n        max_seats\n    }\n}\n"]);return me=function(){return e},e}function de(){var e=Object(ie.a)(["\n{\n    allCapacityMessages{\n        _id\n        percentage\n        message\n    }\n}\n"]);return de=function(){return e},e}function ge(){var e=Object(ie.a)(["\nquery capacityMessage($id: String) {\n    capacityMessage(id: $id) {\n        _id\n        message\n    }\n}\n"]);return ge=function(){return e},e}var Ee=le()(ge()),fe=le()(de()),he=le()(me()),pe=le()(se()),ve=le()(ue()),be=le()(oe()),ye=function(){return r.a.createElement(Y.Query,{query:fe},function(e){var t=e.loading,a=e.error,n=e.data;return t?r.a.createElement(ee,null):a?r.a.createElement(Z,null):r.a.createElement(ae.a,null,n.allCapacityMessages.map(function(e){return r.a.createElement(U.a,{key:e._id,to:"/capacity_message/".concat(e._id)},r.a.createElement(re.a,null,r.a.createElement(A.a,{primary:e.message,secondary:"".concat(e.percentage,"% Nachricht")})))}))})},Oe=Object(d.withStyles)(function(e){return{root:{}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(O.a,{variant:"h3",gutterBottom:!0},"Einstellungen"),r.a.createElement(O.a,{variant:"subtitle1",gutterBottom:!0},"Auf dieser Seite k\xf6nnen Sie die Kapazit\xe4tsmeldungen verwalten."),r.a.createElement(ye,null))}),_e=a(41),je=a(70),we=a.n(je),Se=a(35),Ce=a.n(Se);function xe(){var e=Object(ie.a)(["\nmutation updateCapacityMessage($id: String!, $message: String, $percentage: Int) {\n    updateCapacityMessage(id: $id, message: $message, percentage: $percentage) {\n        success\n    }\n}\n"]);return xe=function(){return e},e}function Ne(){var e=Object(ie.a)(["\nmutation updateSauna($id: String!, $name: String, $max_seats: Int) {\n    updateSauna(id: $id, name: $name, max_seats: $max_seats) {\n        success\n    }\n}\n"]);return Ne=function(){return e},e}function Be(){var e=Object(ie.a)(["\nmutation createVisitor($value: Int!, $sauna_id: String!) {\n    createVisitor(value: $value, sauna_id: $sauna_id) {\n        _id\n    }\n}\n"]);return Be=function(){return e},e}var ke=le()(Be()),$e=le()(Ne()),Me=le()(xe()),Ae=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state=a.props.sauna,a.handleChange=function(e){return function(t){a.setState(Object(_e.a)({},e,t.target.value))}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.max_seats,n=this.props,i=n.classes,c=n.sauna;return r.a.createElement("form",null,r.a.createElement(O.a,{variant:"h5",gutterBottom:!0},"Bearbeiten: ",c.name),r.a.createElement(we.a,{label:"Name",className:i.textField,value:t,onChange:this.handleChange("name"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(we.a,{label:"Maximale Anzahl Pl\xe4tze",className:i.textField,value:a,onChange:this.handleChange("max_seats"),type:"number",margin:"normal"}),r.a.createElement("br",null),r.a.createElement(Y.Mutation,{mutation:$e,variables:{id:c._id,name:t,max_seats:Number(a)},refetchQueries:[{query:pe}]},function(e,t){var a=t.data,n=t.client;return a&&n.writeData({data:{notification:"Nachricht gespeichert",notification_id:c._id}}),r.a.createElement(U.a,{to:"/saunas"},r.a.createElement(Ce.a,{variant:"contained",color:"primary",className:i.button,onClick:function(){return e()}},"Speichern"))}),r.a.createElement(U.a,{to:"/saunas"},r.a.createElement(Ce.a,{variant:"contained",color:"secondary",className:i.button},"Abbrechen")))}}]),t}(r.a.Component),De=Object(d.withStyles)(function(e){return{textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:e.spacing.unit}}})(function(e){var t=e.id,a=e.classes;return r.a.createElement(Y.Query,{variables:{id:t},query:he},function(e){var t=e.loading,n=e.error,i=e.data;return t?r.a.createElement(ee,null):n?r.a.createElement(Z,null):r.a.createElement(Ae,{sauna:i.sauna,classes:a})})}),qe=function(e){var t=e.match;return r.a.createElement("div",null,r.a.createElement(De,{id:t.params.id}))},Ve=a(136),Qe=a.n(Ve),ze=a(137),Fe=a.n(ze),Le=a(135),Te=a.n(Le),Ie=Object(d.withStyles)(function(e){return{button:{margin:e.spacing.unit},divider:{marginTop:e.spacing.unit,marginBottom:e.spacing.unit}}})(function(e){var t=e.sauna,a=e.classes;return r.a.createElement("div",null,r.a.createElement(Te.a,{light:!0,className:a.divider}),r.a.createElement(O.a,{variant:"h4"},t.name),r.a.createElement(U.a,{to:"/sauna/".concat(t._id)},r.a.createElement(O.a,{variant:"body1",gutterBottom:!0},"Bearbeiten")),r.a.createElement(O.a,{variant:"body1",gutterBottom:!0},"Auslastung: ",t.current_seats,"/",t.max_seats),r.a.createElement(O.a,{variant:"body1",gutterBottom:!0},"Statusnachricht: ",t.capacity_message),r.a.createElement(O.a,{variant:"body1",gutterBottom:!0},"Ein- und Ausgang der Besucher registrieren:"),r.a.createElement(Y.Mutation,{mutation:ke,variables:{value:1,sauna_id:t._id},refetchQueries:[{query:pe}]},function(e,t){var n=t.data,i=t.client;return n&&i.writeData({data:{notification:"Visitor added",notification_id:n.createVisitor._id}}),r.a.createElement(Ce.a,{variant:"fab",color:"primary","aria-label":"Hinzuf\xfcgen",className:a.button,onClick:function(){return e()}},r.a.createElement(Qe.a,{fontSize:"small"}))}),r.a.createElement(Y.Mutation,{mutation:ke,variables:{value:-1,sauna_id:t._id},refetchQueries:[{query:pe}]},function(e,t){var n=t.data,i=t.client;return console.log(n),n&&i.writeData({data:{notification:"Visitor removed",notification_id:n.createVisitor._id}}),r.a.createElement(Ce.a,{variant:"fab",color:"secondary","aria-label":"Entfernen",className:a.button,onClick:function(){return e()}},r.a.createElement(Fe.a,{fontSize:"small"}))}))}),Pe=function(){return r.a.createElement(Y.Query,{query:pe},function(e){var t=e.loading,a=e.error,n=e.data;return t?r.a.createElement(ee,null):a?r.a.createElement(Z,null):r.a.createElement("div",null,n.allSaunas.map(function(e){return r.a.createElement(Ie,{key:e._id,sauna:e})}))})},Ge=function(){return r.a.createElement("div",null,r.a.createElement(O.a,{variant:"h3",gutterBottom:!0},"Saunas"),r.a.createElement(O.a,{variant:"body1",gutterBottom:!0},"Verwaltung der Saunalandschaften."),r.a.createElement(Pe,null))},He=a(138),Je=a.n(He),Re=a(139),We=a.n(Re),Ke=function(){return r.a.createElement(Y.Query,{query:ve},function(e){var t=e.loading,a=e.error,n=e.data;return t?r.a.createElement(ee,null):a?r.a.createElement(Z,null):r.a.createElement(ae.a,null,n.allVisitors.map(function(e){return r.a.createElement(re.a,{key:e._id},1===e.value?r.a.createElement(Je.a,null):r.a.createElement(We.a,null),r.a.createElement(A.a,{primary:new Date(e.created).toString(),secondary:e.sauna.name}))}))})},Ue=function(){return r.a.createElement("div",null,r.a.createElement(O.a,{variant:"h3",gutterBottom:!0},"Besucher"),r.a.createElement(O.a,{variant:"body1",gutterBottom:!0},"Liste aller Sauna Ein- und Ausg\xe4nge."),r.a.createElement(Ke,null))},Xe=function(){return r.a.createElement(Ge,null)},Ye=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state=a.props.capacityMessage,a.handleChange=function(e){return function(t){a.setState(Object(_e.a)({},e,t.target.value))}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.message,t=this.props,a=t.classes,n=t.capacityMessage;return r.a.createElement("form",null,r.a.createElement(O.a,{variant:"h5",gutterBottom:!0},"Bearbeiten: ",n.message),r.a.createElement(we.a,{label:"Nachricht",className:a.textField,value:e,onChange:this.handleChange("message"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(Y.Mutation,{mutation:Me,variables:{id:n._id,message:e},refetchQueries:[{query:fe}]},function(e,t){var i=t.data,c=t.client;return i&&c.writeData({data:{notification:"Nachricht gespeichert",notification_id:n._id}}),r.a.createElement(U.a,{to:"/settings"},r.a.createElement(Ce.a,{variant:"contained",color:"primary",className:a.button,onClick:function(){return e()}},"Speichern"))}),r.a.createElement(U.a,{to:"/settings"},r.a.createElement(Ce.a,{variant:"contained",color:"secondary",className:a.button},"Abbrechen")))}}]),t}(r.a.Component),Ze=Object(d.withStyles)(function(e){return{textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:e.spacing.unit}}})(function(e){var t=e.id,a=e.classes;return r.a.createElement(Y.Query,{variables:{id:t},query:Ee},function(e){var t=e.loading,n=e.error,i=e.data;return t?r.a.createElement(ee,null):n?r.a.createElement(Z,null):r.a.createElement(Ye,{capacityMessage:i.capacityMessage,classes:a})})}),et=function(e){var t=e.match;return r.a.createElement("div",null,r.a.createElement(Ze,{id:t.params.id}))},tt=a(140),at=a.n(tt),nt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,notification:"none",notification_id:null},a.toggleNotification=function(){a.setState({open:!a.state.open})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Y.Query,{query:be},function(t){var a=t.data;return console.log(a),a.notification&&a.notification_id!==e.state.notification_id&&e.setState({open:!0,notification:a.notification,notification_id:a.notification_id}),r.a.createElement(at.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:e.state.open,onClose:e.toggleNotification,autoHideDuration:3e3,message:e.state.notification})})}}]),t}(r.a.Component),rt=Object(d.withStyles)(function(e){return{}})(nt),it=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).toggleDrawer=function(){a.setState({drawerOpen:!a.state.drawerOpen})},a.state={drawerOpen:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(K.a,null,r.a.createElement(f,null,r.a.createElement(rt,null),r.a.createElement(p.a,{position:"static"},r.a.createElement(b.a,null,r.a.createElement(j.a,{color:"inherit","aria-label":"Menu",onClick:this.toggleDrawer},r.a.createElement(S.a,null)),r.a.createElement(O.a,{variant:"h6",color:"inherit"},"Lorauna"))),r.a.createElement(x.a,{open:this.state.drawerOpen},r.a.createElement(B.a,{onClick:this.toggleDrawer},r.a.createElement($.a,null,r.a.createElement(q.a,null)),r.a.createElement(A.a,null,"Close")),r.a.createElement(U.a,{to:"/saunas"},r.a.createElement(B.a,{onClick:this.toggleDrawer},r.a.createElement($.a,null,r.a.createElement(Q.a,null)),r.a.createElement(A.a,null,"Saunas"))),r.a.createElement(U.a,{to:"/visitors"},r.a.createElement(B.a,{onClick:this.toggleDrawer},r.a.createElement($.a,null,r.a.createElement(F.a,null)),r.a.createElement(A.a,null,"Visitors"))),r.a.createElement(U.a,{to:"/settings"},r.a.createElement(B.a,{onClick:this.toggleDrawer},r.a.createElement($.a,null,r.a.createElement(T.a,null)),r.a.createElement(A.a,null,"Settings"))),r.a.createElement(U.a,{to:"/about"},r.a.createElement(B.a,{onClick:this.toggleDrawer},r.a.createElement($.a,null,r.a.createElement(P.a,null)),r.a.createElement(A.a,null,"About")))),r.a.createElement(R,null,r.a.createElement(X.a,{exact:!0,path:"/",component:Xe}),r.a.createElement(X.a,{path:"/saunas",component:Ge}),r.a.createElement(X.a,{path:"/sauna/:id",component:qe}),r.a.createElement(X.a,{path:"/visitors",component:Ue}),r.a.createElement(X.a,{path:"/about",component:W}),r.a.createElement(X.a,{path:"/settings",component:Oe}),r.a.createElement(X.a,{path:"/capacity_message/:id",component:et}))))}}]),t}(r.a.Component),ct=new(a(153).a)({uri:"http://localhost:4000/",clientState:{resolvers:{}}}),lt=function(e){var t=e.children;return r.a.createElement(Y.ApolloProvider,{client:ct},t)},ot=Object(d.createMuiTheme)({typography:{useNextVariants:!0}}),ut=function(e){var t=e.children;return r.a.createElement(d.MuiThemeProvider,{theme:ot},t)},st=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(lt,null,r.a.createElement(ut,null,r.a.createElement(it,null)))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(st,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[155,2,1]]]);
//# sourceMappingURL=main.f046d73e.chunk.js.map